[13:22:53][DEBUG](com.nucco.beans.User) - { CALL PG_AUTH.LOGIN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) }
[13:22:53][DEBUG](com.nucco.GlobalConfig) - { CALL PG_AUTH.MENU (?, ?, ?, ?) }
[13:22:54][DEBUG](com.nucco.GlobalConfig) - { CALL PG_AUTH.MENU (?, ?, ?, ?) }
[13:22:59][DEBUG](com.nucco.GlobalConfig) - { CALL PG_AUTH.MENU (?, ?, ?, ?) }
[13:22:59][DEBUG](com.nucco.beans.VM) - SELECT COUNT(*) FROM TB_VENDING_MACHINE A
[13:22:59][DEBUG](com.nucco.beans.VM) - SELECT  A.SEQ, A.CODE, A.PLACE, A.TERMINAL_ID, A.MODEL, A.IS_SOLD_OUT, A.IS_CONTROL_ERROR, A.IS_PD_ERROR, A.IS_EMPTY_COL, A.ASP_CHARGE, TO_CHAR(A.CREATE_DATE, 'YYYY-MM-DD') AS CREATE_DATE, A.COMPANY, A.ORGAN, A.USER_NAME, A.USER_ID,  A.PLACE_CODE,  A.PLACE_NO  ,(SELECT /*+ INDEX(D) */ TO_CHAR(D.CREATE_DATE, 'YYYY-MM-DD HH24:MI:SS')  FROM TB_TXT_STATUS D WHERE A.TERMINAL_ID = D.TERMINAL_ID AND A.TRANSACTION_NO = D.TRANSACTION_NO AND D.CREATE_DATE >= SYSDATE - 1) AS COLLECT_DATE, A.ACCESS_STATUS AS ACCESS_STATUS  FROM ( SELECT ROWNUM AS ROW_NUM, A.* FROM ( SELECT /*+ ORDERED USE_HASH(B C) */ B.NAME AS COMPANY, ( SELECT /*+ INDEX(E) */ REVERSE(LTRIM(SYS_CONNECT_BY_PATH(REVERSE(CASE WHEN IS_ENABLED = 'N' THEN '{' || NAME || '}' ELSE NAME END), '/'), '/')) FROM TB_ORGANIZATION E WHERE PARENT_SEQ = 0 START WITH SEQ = A.ORGANIZATION_SEQ CONNECT BY SEQ = PRIOR PARENT_SEQ ) AS ORGAN, CASE WHEN A.PLACE_CODE IS NULL THEN A.PLACE ELSE '[' || A.PLACE_CODE || '] ' || A.PLACE END PLACE, A.TERMINAL_ID, A.SEQ, A.CODE, A.MODEL, A.IS_SOLD_OUT, A.IS_CONTROL_ERROR, A.IS_PD_ERROR, A.IS_EMPTY_COL, A.ASP_CHARGE, A.CREATE_DATE, A.TRANSACTION_NO, A.PLACE_CODE, A.PLACE_NO, C.ID AS USER_ID, C.NAME AS USER_NAME, A.ACCESS_STATUS AS ACCESS_STATUS  FROM TB_VENDING_MACHINE A INNER JOIN TB_COMPANY B ON A.COMPANY_SEQ = B.SEQ LEFT JOIN TB_USER C ON A.USER_SEQ = C.SEQ LEFT JOIN TB_TXT_STATUS D ON A.TRANSACTION_NO = D.TRANSACTION_NO ORDER BY 1, 2, 3, 4 ) A WHERE ROWNUM <= 30 ) A WHERE ROW_NUM >= 1
[13:23:02][DEBUG](com.nucco.GlobalConfig) - { CALL PG_AUTH.MENU (?, ?, ?, ?) }
[13:23:02][DEBUG](com.nucco.beans.VM) - SELECT /*+ ORDERED INDEX(A) USE_NL(B) */ A.*, ( SELECT /*+ INDEX_DESC(C PK_VM_HISTORY) */ START_DATE FROM TB_VENDING_MACHINE_HISTORY C WHERE VM_SEQ = A.SEQ AND COL_NO = 0 AND ROWNUM = 1 ) AS LATEST_HISTORY_DATE, ( SELECT /*+ INDEX(D PK_VM_PLACE) */ MAX(START_DATE) FROM TB_VENDING_MACHINE_PLACE D WHERE VM_SEQ = A.SEQ AND ROWNUM = 1 ) AS LATEST_PLACE_DATE FROM TB_VENDING_MACHINE A WHERE A.SEQ = 12066
[13:23:02][DEBUG](com.nucco.beans.VM) - SELECT /*+ ORDERED INDEX(A) USE_NL(B) */ A.COL_NO, A.PRODUCT_SEQ, B.NAME, B.PRICE FROM TB_VENDING_MACHINE_PRODUCT A INNER JOIN TB_PRODUCT B ON A.PRODUCT_SEQ = B.SEQ WHERE A.VM_SEQ = ? ORDER BY A.COL_NO
[13:23:02][DEBUG](com.nucco.beans.VM) - SELECT /*+ INDEX(A) */ COL_NO FROM TB_SALES A WHERE TERMINAL_ID = ? AND COL_NO IS NOT NULL AND TRANSACTION_DATE >= TO_CHAR(SYSDATE - 7, 'YYYYMMDD') GROUP BY COL_NO MINUS SELECT /*+ ORDERED INDEX(B) USE_NL(C) */ COL_NO FROM TB_VENDING_MACHINE B INNER JOIN TB_VENDING_MACHINE_PRODUCT C ON B.SEQ = C.VM_SEQ WHERE B.TERMINAL_ID = ? ORDER BY COL_NO
[13:23:02][DEBUG](com.nucco.beans.VM) - SELECT /*+ INDEX(P)*/ P.VENDOR_SEQ SEQ, V.NAME NAME FROM TB_PRODUCT P INNER JOIN TB_VENDOR V ON P.VENDOR_SEQ = V.SEQ INNER JOIN TB_VENDING_MACHINE M ON M.SEQ = 12066 AND M.COMPANY_SEQ = P.COMPANY_SEQ GROUP BY P.VENDOR_SEQ, V.NAME ORDER BY P.VENDOR_SEQ, V.NAME
[13:23:02][DEBUG](com.nucco.GlobalConfig) - { CALL PG_AUTH.MENU (?, ?, ?, ?) }
[13:23:02][DEBUG](com.nucco.beans.Product) - SELECT SEQ, CODE, NAME FROM TB_CATEGORY A WHERE 1=1  AND SEQ IN ( SELECT /*+ INDEX(A_A) */ SEQ FROM TB_CATEGORY A_A WHERE COMPANY_SEQ = 539 AND DEPTH = 0) ORDER BY NAME
[13:23:19][DEBUG](com.nucco.GlobalConfig) - { CALL PG_AUTH.MENU (?, ?, ?, ?) }
[13:23:19][DEBUG](com.nucco.beans.VM) - SELECT COUNT(*) FROM TB_VENDING_MACHINE A
[13:23:19][DEBUG](com.nucco.beans.VM) - SELECT  A.SEQ, A.CODE, A.PLACE, A.TERMINAL_ID, A.MODEL, A.IS_SOLD_OUT, A.IS_CONTROL_ERROR, A.IS_PD_ERROR, A.IS_EMPTY_COL, A.ASP_CHARGE, TO_CHAR(A.CREATE_DATE, 'YYYY-MM-DD') AS CREATE_DATE, A.COMPANY, A.ORGAN, A.USER_NAME, A.USER_ID,  A.PLACE_CODE,  A.PLACE_NO  ,(SELECT /*+ INDEX(D) */ TO_CHAR(D.CREATE_DATE, 'YYYY-MM-DD HH24:MI:SS')  FROM TB_TXT_STATUS D WHERE A.TERMINAL_ID = D.TERMINAL_ID AND A.TRANSACTION_NO = D.TRANSACTION_NO AND D.CREATE_DATE >= SYSDATE - 1) AS COLLECT_DATE, A.ACCESS_STATUS AS ACCESS_STATUS  FROM ( SELECT ROWNUM AS ROW_NUM, A.* FROM ( SELECT /*+ ORDERED USE_HASH(B C) */ B.NAME AS COMPANY, ( SELECT /*+ INDEX(E) */ REVERSE(LTRIM(SYS_CONNECT_BY_PATH(REVERSE(CASE WHEN IS_ENABLED = 'N' THEN '{' || NAME || '}' ELSE NAME END), '/'), '/')) FROM TB_ORGANIZATION E WHERE PARENT_SEQ = 0 START WITH SEQ = A.ORGANIZATION_SEQ CONNECT BY SEQ = PRIOR PARENT_SEQ ) AS ORGAN, CASE WHEN A.PLACE_CODE IS NULL THEN A.PLACE ELSE '[' || A.PLACE_CODE || '] ' || A.PLACE END PLACE, A.TERMINAL_ID, A.SEQ, A.CODE, A.MODEL, A.IS_SOLD_OUT, A.IS_CONTROL_ERROR, A.IS_PD_ERROR, A.IS_EMPTY_COL, A.ASP_CHARGE, A.CREATE_DATE, A.TRANSACTION_NO, A.PLACE_CODE, A.PLACE_NO, C.ID AS USER_ID, C.NAME AS USER_NAME, A.ACCESS_STATUS AS ACCESS_STATUS  FROM TB_VENDING_MACHINE A INNER JOIN TB_COMPANY B ON A.COMPANY_SEQ = B.SEQ LEFT JOIN TB_USER C ON A.USER_SEQ = C.SEQ LEFT JOIN TB_TXT_STATUS D ON A.TRANSACTION_NO = D.TRANSACTION_NO ORDER BY 1, 2, 3, 4 ) A WHERE ROWNUM <= 30 ) A WHERE ROW_NUM >= 1
[13:23:21][DEBUG](com.nucco.GlobalConfig) - { CALL PG_AUTH.MENU (?, ?, ?, ?) }
[13:23:21][DEBUG](com.nucco.beans.VM) - SELECT COUNT(*) FROM TB_VENDING_MACHINE A
[13:23:21][DEBUG](com.nucco.beans.VM) - SELECT  A.SEQ, A.CODE, A.PLACE, A.TERMINAL_ID, A.MODEL, A.IS_SOLD_OUT, A.IS_CONTROL_ERROR, A.IS_PD_ERROR, A.IS_EMPTY_COL, A.ASP_CHARGE, TO_CHAR(A.CREATE_DATE, 'YYYY-MM-DD') AS CREATE_DATE, A.COMPANY, A.ORGAN, A.USER_NAME, A.USER_ID,  A.PLACE_CODE,  A.PLACE_NO  ,(SELECT /*+ INDEX(D) */ TO_CHAR(D.CREATE_DATE, 'YYYY-MM-DD HH24:MI:SS')  FROM TB_TXT_STATUS D WHERE A.TERMINAL_ID = D.TERMINAL_ID AND A.TRANSACTION_NO = D.TRANSACTION_NO AND D.CREATE_DATE >= SYSDATE - 1) AS COLLECT_DATE, A.ACCESS_STATUS AS ACCESS_STATUS  FROM ( SELECT ROWNUM AS ROW_NUM, A.* FROM ( SELECT /*+ ORDERED USE_HASH(B C) */ B.NAME AS COMPANY, ( SELECT /*+ INDEX(E) */ REVERSE(LTRIM(SYS_CONNECT_BY_PATH(REVERSE(CASE WHEN IS_ENABLED = 'N' THEN '{' || NAME || '}' ELSE NAME END), '/'), '/')) FROM TB_ORGANIZATION E WHERE PARENT_SEQ = 0 START WITH SEQ = A.ORGANIZATION_SEQ CONNECT BY SEQ = PRIOR PARENT_SEQ ) AS ORGAN, CASE WHEN A.PLACE_CODE IS NULL THEN A.PLACE ELSE '[' || A.PLACE_CODE || '] ' || A.PLACE END PLACE, A.TERMINAL_ID, A.SEQ, A.CODE, A.MODEL, A.IS_SOLD_OUT, A.IS_CONTROL_ERROR, A.IS_PD_ERROR, A.IS_EMPTY_COL, A.ASP_CHARGE, A.CREATE_DATE, A.TRANSACTION_NO, A.PLACE_CODE, A.PLACE_NO, C.ID AS USER_ID, C.NAME AS USER_NAME, A.ACCESS_STATUS AS ACCESS_STATUS  FROM TB_VENDING_MACHINE A INNER JOIN TB_COMPANY B ON A.COMPANY_SEQ = B.SEQ LEFT JOIN TB_USER C ON A.USER_SEQ = C.SEQ LEFT JOIN TB_TXT_STATUS D ON A.TRANSACTION_NO = D.TRANSACTION_NO ORDER BY 1, 2, 3, 4 ) A WHERE ROWNUM <= 30 ) A WHERE ROW_NUM >= 1
[13:23:24][DEBUG](com.nucco.GlobalConfig) - { CALL PG_AUTH.MENU (?, ?, ?, ?) }
[13:23:24][DEBUG](com.nucco.beans.VM) - SELECT /*+ ORDERED INDEX(A) USE_NL(B) */ A.*, ( SELECT /*+ INDEX_DESC(C PK_VM_HISTORY) */ START_DATE FROM TB_VENDING_MACHINE_HISTORY C WHERE VM_SEQ = A.SEQ AND COL_NO = 0 AND ROWNUM = 1 ) AS LATEST_HISTORY_DATE, ( SELECT /*+ INDEX(D PK_VM_PLACE) */ MAX(START_DATE) FROM TB_VENDING_MACHINE_PLACE D WHERE VM_SEQ = A.SEQ AND ROWNUM = 1 ) AS LATEST_PLACE_DATE FROM TB_VENDING_MACHINE A WHERE A.SEQ = 13728
[13:23:24][DEBUG](com.nucco.beans.VM) - SELECT /*+ ORDERED INDEX(A) USE_NL(B) */ A.COL_NO, A.PRODUCT_SEQ, B.NAME, B.PRICE FROM TB_VENDING_MACHINE_PRODUCT A INNER JOIN TB_PRODUCT B ON A.PRODUCT_SEQ = B.SEQ WHERE A.VM_SEQ = ? ORDER BY A.COL_NO
[13:23:24][DEBUG](com.nucco.beans.VM) - SELECT /*+ INDEX(A) */ COL_NO FROM TB_SALES A WHERE TERMINAL_ID = ? AND COL_NO IS NOT NULL AND TRANSACTION_DATE >= TO_CHAR(SYSDATE - 7, 'YYYYMMDD') GROUP BY COL_NO MINUS SELECT /*+ ORDERED INDEX(B) USE_NL(C) */ COL_NO FROM TB_VENDING_MACHINE B INNER JOIN TB_VENDING_MACHINE_PRODUCT C ON B.SEQ = C.VM_SEQ WHERE B.TERMINAL_ID = ? ORDER BY COL_NO
[13:23:24][DEBUG](com.nucco.beans.VM) - SELECT /*+ INDEX(P)*/ P.VENDOR_SEQ SEQ, V.NAME NAME FROM TB_PRODUCT P INNER JOIN TB_VENDOR V ON P.VENDOR_SEQ = V.SEQ INNER JOIN TB_VENDING_MACHINE M ON M.SEQ = 13728 AND M.COMPANY_SEQ = P.COMPANY_SEQ GROUP BY P.VENDOR_SEQ, V.NAME ORDER BY P.VENDOR_SEQ, V.NAME
[13:23:24][DEBUG](com.nucco.GlobalConfig) - { CALL PG_AUTH.MENU (?, ?, ?, ?) }
[13:23:24][DEBUG](com.nucco.beans.Product) - SELECT SEQ, CODE, NAME FROM TB_CATEGORY A WHERE 1=1  AND SEQ IN ( SELECT /*+ INDEX(A_A) */ SEQ FROM TB_CATEGORY A_A WHERE COMPANY_SEQ = 658 AND DEPTH = 0) ORDER BY NAME
